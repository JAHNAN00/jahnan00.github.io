<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>zerotier+自建planet为设备组建虚拟局域网 | JAHNAN00's blog</title><meta name="description" content="JAHNAN00的个人网站.">
    <link rel="preload" href="/assets/style-CSlcUTs1.css" as="style"><link rel="stylesheet" href="/assets/style-CSlcUTs1.css">
    <link rel="modulepreload" href="/assets/app-BI8s6Rdr.js"><link rel="modulepreload" href="/assets/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html-bSQgzSrO.js">
    <link rel="prefetch" href="/assets/timeline.html-njewuEzs.js" as="script"><link rel="prefetch" href="/assets/posts.html-D4ES1eWa.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-BbB3SIBi.js" as="script"><link rel="prefetch" href="/assets/1.html-BDD-7tKt.js" as="script"><link rel="prefetch" href="/assets/1.html-DBp8qBCg.js" as="script"><link rel="prefetch" href="/assets/1.html-x-t6thIV.js" as="script"><link rel="prefetch" href="/assets/1.html-DOQcbfn6.js" as="script"><link rel="prefetch" href="/assets/1.html-URCMCrvU.js" as="script"><link rel="prefetch" href="/assets/1.html-MDgairmU.js" as="script"><link rel="prefetch" href="/assets/1.html-CmufcNHI.js" as="script"><link rel="prefetch" href="/assets/1.html-lwtXTIcy.js" as="script"><link rel="prefetch" href="/assets/1.html-D_lJvcCu.js" as="script"><link rel="prefetch" href="/assets/1.html-DIRIY9DN.js" as="script"><link rel="prefetch" href="/assets/index.html-D_PvWnGT.js" as="script"><link rel="prefetch" href="/assets/introduce.html-a0lgWNFa.js" as="script"><link rel="prefetch" href="/assets/suiji.html-DrM2EOxO.js" as="script"><link rel="prefetch" href="/assets/template.html-NQI0s2Nn.js" as="script"><link rel="prefetch" href="/assets/template.html-BKCRUNDo.js" as="script"><link rel="prefetch" href="/assets/404.html-bjX35lLE.js" as="script"><link rel="prefetch" href="/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-DWEKOTfS.js" as="script"><link rel="prefetch" href="/assets/IconGithub-CjJYoqG8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="JAHNAN00&#39;s blog"><a href="/" class="site-name can-hide">JAHNAN00&#39;s blog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/posts" class="link" aria-label="博客"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->博客<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/categories/daohang/1.html" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/tags/daohang/1.html" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">zerotier+自建planet为设备组建虚拟局域网</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->JAHNAN00<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/02/06<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/categories/shiyonggongju/1.html" class="">实用工具</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/tags/Web/1.html" class="">Web</a><a href="/tags/wulianwang/1.html" class="">物联网</a><a href="/tags/duoshebei/1.html" class="">多设备</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="zerotier" tabindex="-1"><a class="header-anchor" href="#zerotier"><span>zerotier</span></a></h2><p>zerotier是一个基于P2P技术的用于搭建<strong>虚拟局域网</strong>的工具。</p><p>局域网为某个AP下的不同设备分配不同的IP，设备之间可以通过IP互相访问。例如一间房子里有一个路由器，所有连接到该路由器的设备组成了一个局域网。</p><p>但是，经常有访问不在同一局域网设备的需求。例如，你带着一台笔记本电脑去教室上课，但是想要访问你放在宿舍的服务器或者台式电脑。这时，一种方法是通过frp等手段搭建<strong>内网穿透</strong>，这种方法将内网的端口映射并暴露在公网中，从而可以使用远程服务，但是安全性稍差，且要求必须有公网IP。</p><p>虚拟局域网则是通过P2P技术，也就是俗称打洞。它不需要公网IP，且每个设备在虚拟局域网中的IP不变，就好像在同一个局域网中一样。缺点是，打洞能否成功经常需要取决于服务商等因素。</p><h2 id="安装zerotier客户端" tabindex="-1"><a class="header-anchor" href="#安装zerotier客户端"><span>安装zerotier客户端</span></a></h2><p>客户端安装方式如下。</p><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h3><p>在官网下载页（https://www.zerotier.com/download/）下载msi文件并安装。</p><p>安装后，默认配置文件位置：<code> C:\ProgramData\ZeroTier\One</code></p><h3 id="macos" tabindex="-1"><a class="header-anchor" href="#macos"><span>MacOS</span></a></h3><p>在官网下载页（https://www.zerotier.com/download/）下载MacOS PKG Installer并安装。</p><p>安装后，默认配置文件位置：<code>/Library/Application Support/ZeroTier/One</code></p><h3 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu"><span>Ubuntu</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://install.zerotier.com <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装后，配置文件目录在：<code>/var/lib/zerotier-one</code></p><h2 id="加入网络" tabindex="-1"><a class="header-anchor" href="#加入网络"><span>加入网络</span></a></h2><p>Windows和MacOS下，使用图形化界面即可。例：</p><p><img src="/assets/image-20251110023314046-Q5XUdt-Q.png" alt="image-20251110023314046"></p><p>Ubuntu（或者说Linux）下，需要使用命令行工具</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">zerotier-cli <span class="token function">join</span> <span class="token variable">$YOUR_NET_ID</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>$YOUR_NET_ID</code>是你的网络节点ID。</p><h2 id="配置网络节点" tabindex="-1"><a class="header-anchor" href="#配置网络节点"><span>配置网络节点</span></a></h2><p>如果你计划使用官方服务，请在官网（https://www.zerotier.com）注册账号和节点，并在Member选项卡中管理你的设备，绑定虚拟IP。绑定好并打洞成功后，可以试着能否Ping通。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ping</span> <span class="token variable">$YOUR_VIRTUAL_IP</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果能ping通说明打洞成功了。</p><h2 id="自建planet服务器" tabindex="-1"><a class="header-anchor" href="#自建planet服务器"><span>自建planet服务器</span></a></h2><p>由于官方服务需要跨境访问，可能带来不好的体验，因此如果有服务器的话更推荐在服务器上自建一个服务端。一个planet服务器需要有一个UI界面，和一个分发给各设备的planet文件。</p><h3 id="在服务器上搭建ztncui" tabindex="-1"><a class="header-anchor" href="#在服务器上搭建ztncui"><span>在服务器上搭建ztncui</span></a></h3><p>主要参考https://key-networks.com/ztncui/#installation。</p><p>关键命令如下。</p><p>获取deb安装包</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-O</span> https://s3-us-west-1.amazonaws.com/key-networks/deb/ztncui/1/x86_64/ztncui_0.8.14_amd64.deb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用apt安装</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ./ztncui_0.8.14_amd64.deb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>创建<code>.env</code>文件</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;echo ZT_TOKEN=<span class="token variable"><span class="token variable">`</span><span class="token function">sudo</span> <span class="token function">cat</span> /var/lib/zerotier-one/authtoken.secret<span class="token variable">`</span></span> &gt; /opt/key-networks/ztncui/.env&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在<code>.env</code>文件中添加以下内容</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">HTTPS_PORT</span><span class="token operator">=</span><span class="token number">3443</span></span>
<span class="line"><span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>更改权限</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">400</span> /opt/key-networks/ztncui/.env</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">chown</span> ztncui.ztncui /opt/key-networks/ztncui/.env</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>启动服务，以及检查服务状态</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl restart ztncui</span>
<span class="line"><span class="token function">sudo</span> systemctl status ztncui</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>服务启动后，就可以通过服务器的3443端口访问ztncui了。由于没有证书，浏览器可能会警告，这是正常的。</p><h3 id="ztncui的使用" tabindex="-1"><a class="header-anchor" href="#ztncui的使用"><span>ztncui的使用</span></a></h3><p>进入ztncui后点击右上角login。首次登录，用户名填<code>admin</code>，密码填<code>password</code>。</p><p><img src="/assets/image-20251110024731078-dCsmD6Fa.png" alt="image-20251110024731078"></p><p>登录成功后，建议设置一个强度够高的新密码，因为这个页面是在公网里随时被扫的。创建好新用户后建议把原始的admin账户删除（或者至少改掉默认密码）。</p><p>然后在<code>Networks</code>一栏，跟随页面提示建立一个新的网络节点，自行分配虚拟网段。配置好后，记下NetworkID，设备加入网络就需要添加这个id。</p><p><img src="/assets/image-20251110025108310-Bu_3Zgqf.png" alt="image-20251110025108310"></p><h3 id="制作并分发planet文件" tabindex="-1"><a class="header-anchor" href="#制作并分发planet文件"><span>制作并分发planet文件</span></a></h3><p>制作planet文件首先需要写好moon配置，获得<code>moon.json</code>文件。</p><p>初始化moon配置文件</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">cd</span> /var/lib/zerotier-one <span class="token comment"># 进入`zerotier-one`库目录</span></span>
<span class="line">zerotier-idtool initmoon identity.public <span class="token operator">&gt;&gt;</span> moon.json <span class="token comment"># 生成 json文件</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑<code>moon.json</code>文件，在<code>stableEndpoints</code>下配置自己的公网IP以及端口，端口使用默认的<code>9993</code>即可。这样<code>moon.json</code>就写好了。</p><p>在https://github.com/kaaass/ZeroTierOne/releases下载可执行文件<code>mkmoonworld-x86_64</code>，然后执行</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cp</span> /var/lib/zerotier-one/moon.json ./</span>
<span class="line">./mkmoonworld-x86_64 ./moon.json</span>
<span class="line"><span class="token function">mv</span> world.bin planet</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这就制作好planet文件了。</p><p>找到各个需要部署的客户端（目录见上），将原有的planet重命名进行备份</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 在各个客户端的对应目录内</span></span>
<span class="line"><span class="token function">mv</span> planet planet.old</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>然后将制作好的planet放到该目录下，代替原有的planet，并重启服务。</p><h3 id="重启服务并查找自己的服务器节点" tabindex="-1"><a class="header-anchor" href="#重启服务并查找自己的服务器节点"><span>重启服务并查找自己的服务器节点</span></a></h3><p>mac重启服务：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> launchctl unload /Library/LaunchDaemons/com.ZeroTier.one.plist</span>
<span class="line"><span class="token function">sudo</span> launchctl load /Library/LaunchDaemons/com.ZeroTier.one.plist</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>linux重启服务：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">systemctl restart zerotier-one.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>windows重启服务：</p><p>去服务页面里面找到对应服务，重启。</p><p>重启好以后，测试能否找到服务器</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">zerotier-cli listpeers</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果能看到自己的服务器ip就说明搭建成功了。</p><h3 id="设备加入节点" tabindex="-1"><a class="header-anchor" href="#设备加入节点"><span>设备加入节点</span></a></h3><p>根据服务器ztncui的节点ID，让自己的设备加入对应的网络。初次加入网络需要在后台ztncui中勾选<code>Authorized</code>进行许可。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">zerotier-cli <span class="token function">join</span> <span class="token variable">$YOUR_NET_ID</span> <span class="token comment">#有图形界面的使用图形界面</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果设备能在后台显示在线，并且互相能ping通，说明虚拟局域网搭好了。</p><p><img src="/assets/image-20251110030705191-BYUoWqwb.png" alt="image-20251110030705191"></p><p>至此，你的所有设备像是被加入了一个局域网，通过固定ip即可相互访问，也可以ssh或者远程桌面等。</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->编辑当前页面<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->最后更新时间 11/9/2025, 7:08:58 PM<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">页面导航</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#zerotier" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="zerotier"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->zerotier<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#安装zerotier客户端" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="安装zerotier客户端"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->安装zerotier客户端<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#windows" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Windows"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Windows<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#macos" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="MacOS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->MacOS<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#ubuntu" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Ubuntu"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Ubuntu<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#加入网络" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="加入网络"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->加入网络<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#配置网络节点" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="配置网络节点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->配置网络节点<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#自建planet服务器" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="自建planet服务器"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->自建planet服务器<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#在服务器上搭建ztncui" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="在服务器上搭建ztncui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->在服务器上搭建ztncui<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#ztncui的使用" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="ztncui的使用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ztncui的使用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#制作并分发planet文件" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="制作并分发planet文件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->制作并分发planet文件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#重启服务并查找自己的服务器节点" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="重启服务并查找自己的服务器节点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->重启服务并查找自己的服务器节点<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#设备加入节点" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="设备加入节点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->设备加入节点<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BI8s6Rdr.js" defer></script>
  </body>
</html>
