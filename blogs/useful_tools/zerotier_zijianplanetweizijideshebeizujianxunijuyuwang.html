<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>zerotier+自建planet为设备组建虚拟局域网 | JAHNAN00's blog</title><meta name="description" content="JAHNAN00的个人网站.">
    <link rel="preload" href="/assets/style-CSlcUTs1.css" as="style"><link rel="stylesheet" href="/assets/style-CSlcUTs1.css">
    <link rel="modulepreload" href="/assets/app-CuU21b1u.js"><link rel="modulepreload" href="/assets/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html-CSRREAJo.js">
    <link rel="prefetch" href="/assets/timeline.html-BOEiDjMV.js" as="script"><link rel="prefetch" href="/assets/posts.html-CX7b7wD5.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-L38bUlLQ.js" as="script"><link rel="prefetch" href="/assets/1.html-Bhc4bBkf.js" as="script"><link rel="prefetch" href="/assets/1.html-bneWXdCE.js" as="script"><link rel="prefetch" href="/assets/1.html-CoAgA269.js" as="script"><link rel="prefetch" href="/assets/1.html-sat2hvjR.js" as="script"><link rel="prefetch" href="/assets/1.html-CtwUqGi8.js" as="script"><link rel="prefetch" href="/assets/1.html-_iEHQvP-.js" as="script"><link rel="prefetch" href="/assets/1.html-DaZ3JvE8.js" as="script"><link rel="prefetch" href="/assets/1.html-CVD35wJG.js" as="script"><link rel="prefetch" href="/assets/1.html-BYFYqamY.js" as="script"><link rel="prefetch" href="/assets/1.html-D-eutWJS.js" as="script"><link rel="prefetch" href="/assets/index.html-mZsZZAVZ.js" as="script"><link rel="prefetch" href="/assets/introduce.html-BIl8SbP_.js" as="script"><link rel="prefetch" href="/assets/template.html-DJj_xJkn.js" as="script"><link rel="prefetch" href="/assets/suiji.html-DV4MxkVj.js" as="script"><link rel="prefetch" href="/assets/template.html-u54AzM9m.js" as="script"><link rel="prefetch" href="/assets/404.html-DknDHskT.js" as="script"><link rel="prefetch" href="/assets/Valine.min-C61SASqw.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-DWEKOTfS.js" as="script"><link rel="prefetch" href="/assets/IconGithub-CwU5H_u4.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/logo.png" alt="JAHNAN00&#39;s blog"><a href="/" class="site-name can-hide">JAHNAN00&#39;s blog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/posts" class="link" aria-label="博客"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->博客<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/categories/daohang/1.html" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/tags/daohang/1.html" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">zerotier+自建planet为设备组建虚拟局域网</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->JAHNAN00<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/02/06<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/categories/shiyonggongju/1.html" class="">实用工具</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/tags/Web/1.html" class="">Web</a><a href="/tags/wulianwang/1.html" class="">物联网</a><a href="/tags/duoshebei/1.html" class="">多设备</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="zerotier-是什么" tabindex="-1"><a class="header-anchor" href="#zerotier-是什么"><span>ZeroTier 是什么</span></a></h2><p>ZeroTier 是一个虚拟网络工具，可以把分散在不同网络环境中的设备，连接成一个“像在同一局域网里”的私有网络。</p><p>例如：你在教室的笔记本，需要访问宿舍里的台式机或家庭服务器。传统做法是内网穿透（如 FRP），而 ZeroTier 更偏向“组网”，让设备之间直接通过虚拟 IP 互联。</p><h2 id="使用前说明" tabindex="-1"><a class="header-anchor" href="#使用前说明"><span>使用前说明</span></a></h2><p>为了避免概念混淆，先统一几个术语：</p><ol><li><p>FRP 这类内网穿透方案，通常需要一台公网可访问的中转服务器（常见是云服务器），不一定要求家里设备本身有公网 IP。</p></li><li><p>自建方案里常见两部分：</p><ul><li>控制器（controller），负责网络管理和设备授权</li><li>私有根配置（moon/planet 文件），用于特定网络环境下的节点发现与加速<br> 这两者不是同一个组件。</li></ul></li><li><p>moon/planet 属于进阶配置，并非所有场景都必须使用；常规场景优先保证控制器和设备授权流程可用。</p></li></ol><h2 id="安装-zerotier-客户端" tabindex="-1"><a class="header-anchor" href="#安装-zerotier-客户端"><span>安装 ZeroTier 客户端</span></a></h2><p>下载页：<a href="https://www.zerotier.com/download/" target="_blank" rel="noopener noreferrer">https://www.zerotier.com/download/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h3><p>下载 MSI 安装包后安装。<br> 默认数据目录：<code>C:\ProgramData\ZeroTier\One</code></p><h3 id="macos" tabindex="-1"><a class="header-anchor" href="#macos"><span>macOS</span></a></h3><p>下载 PKG 安装包后安装。<br> 默认数据目录：<code>/Library/Application Support/ZeroTier/One</code></p><h3 id="ubuntu-debian" tabindex="-1"><a class="header-anchor" href="#ubuntu-debian"><span>Ubuntu / Debian</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://install.zerotier.com <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>默认数据目录：<code>/var/lib/zerotier-one</code></p><h2 id="基础用法-加入网络" tabindex="-1"><a class="header-anchor" href="#基础用法-加入网络"><span>基础用法：加入网络</span></a></h2><p>Windows 和 macOS 可用图形界面加入网络：</p><p><img src="/assets/image-20251110023314046-Q5XUdt-Q.png" alt="image-20251110023314046"></p><p>Linux 命令行：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">zerotier-cli <span class="token function">join</span> <span class="token variable">$YOUR_NET_ID</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>$YOUR_NET_ID</code> 是网络 ID（不是节点 ID）。</p><p>如果你使用官方托管控制器（my.zerotier.com），首次加入后需要在控制台的 <code>Members</code> 中将设备设为 <code>Authorized</code>，并给设备分配虚拟网段 IP（自动或手动都可）。</p><p>连通性可用以下方式验证：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ping</span> <span class="token variable">$PEER_ZT_IP</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="自建控制器-使用-ztncui" tabindex="-1"><a class="header-anchor" href="#自建控制器-使用-ztncui"><span>自建控制器：使用 ztncui</span></a></h2><p>如果你希望自己管理网络控制平面，可以在服务器上部署 ztncui（ZeroTier 控制器 UI）。</p><p>参考：<a href="https://key-networks.com/ztncui/#installation" target="_blank" rel="noopener noreferrer">https://key-networks.com/ztncui/#installation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="_1-安装-ztncui" tabindex="-1"><a class="header-anchor" href="#_1-安装-ztncui"><span>1) 安装 ztncui</span></a></h3><p>示例（版本号可能变化）：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-O</span> https://s3-us-west-1.amazonaws.com/key-networks/deb/ztncui/1/x86_64/ztncui_0.8.14_amd64.deb</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ./ztncui_0.8.14_amd64.deb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>创建 <code>.env</code>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;echo ZT_TOKEN=<span class="token variable"><span class="token variable">`</span><span class="token function">sudo</span> <span class="token function">cat</span> /var/lib/zerotier-one/authtoken.secret<span class="token variable">`</span></span> &gt; /opt/key-networks/ztncui/.env&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>追加配置：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token assign-left variable">HTTPS_PORT</span><span class="token operator">=</span><span class="token number">3443</span></span>
<span class="line"><span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>设置权限：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">400</span> /opt/key-networks/ztncui/.env</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">chown</span> ztncui.ztncui /opt/key-networks/ztncui/.env</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>启动并检查：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl restart ztncui</span>
<span class="line"><span class="token function">sudo</span> systemctl status ztncui</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>浏览器访问 <code>https://&lt;SERVER_IP&gt;:3443</code>。若未配置证书，出现 HTTPS 警告属正常现象。</p><h3 id="_2-初始化控制台" tabindex="-1"><a class="header-anchor" href="#_2-初始化控制台"><span>2) 初始化控制台</span></a></h3><p>首次登录默认账号通常为：</p><ul><li>用户名：<code>admin</code></li><li>密码：<code>password</code></li></ul><p><img src="/assets/image-20251110024731078-dCsmD6Fa.png" alt="image-20251110024731078"></p><p>建议立即修改默认密码，或新建管理员并停用默认账户。</p><p>在 <code>Networks</code> 页面创建网络，记下 <code>Network ID</code>：</p><p><img src="/assets/image-20251110025108310-Bu_3Zgqf.png" alt="image-20251110025108310"></p><h2 id="可选进阶-制作并下发-planet-文件-私有根" tabindex="-1"><a class="header-anchor" href="#可选进阶-制作并下发-planet-文件-私有根"><span>可选进阶：制作并下发 planet 文件（私有根）</span></a></h2><p>这一步不是所有场景都必须，只有在你明确需要私有根时再做。</p><p>先生成 <code>moon.json</code>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">cd</span> /var/lib/zerotier-one</span>
<span class="line">zerotier-idtool initmoon identity.public <span class="token operator">&gt;</span> moon.json</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑 <code>moon.json</code>，在 <code>stableEndpoints</code> 中写入公网 IP 和端口（通常为 <code>9993</code>）。</p><p>然后生成 <code>planet</code>（world）文件：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cp</span> /var/lib/zerotier-one/moon.json ./</span>
<span class="line">./mkmoonworld-x86_64 ./moon.json</span>
<span class="line"><span class="token function">mv</span> world.bin planet</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>把 <code>planet</code> 分发到客户端数据目录（上文各系统目录），并备份旧文件：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">mv</span> planet planet.old</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="重启客户端并验证" tabindex="-1"><a class="header-anchor" href="#重启客户端并验证"><span>重启客户端并验证</span></a></h2><h3 id="macos-1" tabindex="-1"><a class="header-anchor" href="#macos-1"><span>macOS</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> launchctl unload /Library/LaunchDaemons/com.ZeroTier.one.plist</span>
<span class="line"><span class="token function">sudo</span> launchctl load /Library/LaunchDaemons/com.ZeroTier.one.plist</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl restart zerotier-one.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="windows-1" tabindex="-1"><a class="header-anchor" href="#windows-1"><span>Windows</span></a></h3><p>在“服务”管理器中重启 ZeroTier 服务。</p><p>检查是否能发现预期对端/根节点：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">zerotier-cli listpeers</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>最后让设备加入目标网络，并在控制器侧授权：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">zerotier-cli <span class="token function">join</span> <span class="token variable">$YOUR_NET_ID</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果设备在后台显示在线，且相互 <code>ping</code> 通，则组网成功。</p><p><img src="/assets/image-20251110030705191-BYUoWqwb.png" alt="image-20251110030705191"></p><p>至此，你就可以通过 ZeroTier 分配的虚拟 IP 进行 SSH、远程桌面或文件传输。</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->编辑当前页面<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->最后更新时间 2/26/2026, 7:50:29 PM<!--]--></span></span></div></footer><!----><!----></div><div class="page-catalog-container"><h5 class="tip">页面导航</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#zerotier-是什么" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="ZeroTier 是什么"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ZeroTier 是什么<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#使用前说明" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="使用前说明"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->使用前说明<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#安装-zerotier-客户端" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="安装 ZeroTier 客户端"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->安装 ZeroTier 客户端<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#windows" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Windows"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Windows<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#macos" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="macOS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->macOS<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#ubuntu-debian" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Ubuntu / Debian"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Ubuntu / Debian<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#基础用法-加入网络" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="基础用法：加入网络"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->基础用法：加入网络<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#自建控制器-使用-ztncui" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="自建控制器：使用 ztncui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->自建控制器：使用 ztncui<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#_1-安装-ztncui" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1) 安装 ztncui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1) 安装 ztncui<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#_2-初始化控制台" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2) 初始化控制台"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2) 初始化控制台<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#可选进阶-制作并下发-planet-文件-私有根" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="可选进阶：制作并下发 planet 文件（私有根）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->可选进阶：制作并下发 planet 文件（私有根）<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#重启客户端并验证" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="重启客户端并验证"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->重启客户端并验证<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#macos-1" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="macOS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->macOS<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#linux" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Linux"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Linux<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/useful_tools/zerotier_zijianplanetweizijideshebeizujianxunijuyuwang.html#windows-1" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Windows"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Windows<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-CuU21b1u.js" defer></script>
  </body>
</html>
