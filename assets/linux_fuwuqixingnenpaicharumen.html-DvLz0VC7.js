import{_ as s,c as n,b as e,o as l}from"./app-De2rYL1X.js";const i={};function p(t,a){return l(),n("div",null,[...a[0]||(a[0]=[e(`<p>当服务器出现“变慢、卡顿、响应超时”时，可按 CPU、内存、磁盘、网络四个维度逐步排查。</p><h2 id="第一步-快速判断系统负载" tabindex="-1"><a class="header-anchor" href="#第一步-快速判断系统负载"><span>第一步：快速判断系统负载</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">uptime</span></span>
<span class="line"><span class="token function">top</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>重点看：</p><ul><li><code>load average</code> 是否持续升高</li><li><code>CPU us/sy/wa</code> 是否异常（<code>wa</code> 高通常是磁盘 I/O 压力）</li></ul><h2 id="第二步-定位占用最高的进程" tabindex="-1"><a class="header-anchor" href="#第二步-定位占用最高的进程"><span>第二步：定位占用最高的进程</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ps</span> <span class="token parameter variable">-eo</span> pid,ppid,cmd,%mem,%cpu <span class="token parameter variable">--sort</span><span class="token operator">=</span>-%cpu <span class="token operator">|</span> <span class="token function">head</span></span>
<span class="line"><span class="token function">ps</span> <span class="token parameter variable">-eo</span> pid,ppid,cmd,%mem,%cpu <span class="token parameter variable">--sort</span><span class="token operator">=</span>-%mem <span class="token operator">|</span> <span class="token function">head</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果是 Java、Node、Python 进程，再进入对应运行时继续分析（如 heap、线程数、GC）。</p><h2 id="第三步-检查内存与-oom" tabindex="-1"><a class="header-anchor" href="#第三步-检查内存与-oom"><span>第三步：检查内存与 OOM</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">free</span> <span class="token parameter variable">-h</span></span>
<span class="line"><span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> oom <span class="token operator">|</span> <span class="token function">tail</span> <span class="token parameter variable">-n</span> <span class="token number">20</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果有 OOM kill 记录，优先处理内存泄漏、缓存策略或容器限制配置。</p><h2 id="第四步-检查磁盘-i-o" tabindex="-1"><a class="header-anchor" href="#第四步-检查磁盘-i-o"><span>第四步：检查磁盘 I/O</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">iostat <span class="token parameter variable">-xz</span> <span class="token number">1</span> <span class="token number">3</span></span>
<span class="line"><span class="token function">df</span> <span class="token parameter variable">-h</span></span>
<span class="line"><span class="token function">du</span> <span class="token parameter variable">-sh</span> /var/log/* <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-h</span> <span class="token operator">|</span> <span class="token function">tail</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关注：</p><ul><li>磁盘使用率是否接近 100%</li><li>某块盘 <code>await</code> 是否异常高</li><li>日志文件是否异常膨胀</li></ul><h2 id="第五步-检查网络连接状态" tabindex="-1"><a class="header-anchor" href="#第五步-检查网络连接状态"><span>第五步：检查网络连接状态</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ss <span class="token parameter variable">-s</span></span>
<span class="line">ss <span class="token parameter variable">-antp</span> <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">30</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>常见问题：</p><ul><li>短连接暴增</li><li>TIME_WAIT 过多</li><li>上游依赖超时导致连接堆积</li></ul><h2 id="建议的排查顺序" tabindex="-1"><a class="header-anchor" href="#建议的排查顺序"><span>建议的排查顺序</span></a></h2><ol><li>先判断是否为系统级资源瓶颈</li><li>再定位具体进程</li><li>最后回到代码与架构层优化</li></ol><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>性能问题不可怕，关键是有固定排查路径。先收集指标，再判断瓶颈，再做针对性优化，避免“凭感觉调参”。</p>`,23)])])}const c=s(i,[["render",p]]),o=JSON.parse('{"path":"/blogs/linux_fuwuqixingnenpaicharumen.html","title":"Linux服务器性能排查入门","lang":"zh-CN","frontmatter":{"title":"Linux服务器性能排查入门","date":"2026/02/27","tags":["Linux","性能优化","排障"],"categories":["知识笔记"]},"headers":[{"level":2,"title":"第一步：快速判断系统负载","slug":"第一步-快速判断系统负载","link":"#第一步-快速判断系统负载","children":[]},{"level":2,"title":"第二步：定位占用最高的进程","slug":"第二步-定位占用最高的进程","link":"#第二步-定位占用最高的进程","children":[]},{"level":2,"title":"第三步：检查内存与 OOM","slug":"第三步-检查内存与-oom","link":"#第三步-检查内存与-oom","children":[]},{"level":2,"title":"第四步：检查磁盘 I/O","slug":"第四步-检查磁盘-i-o","link":"#第四步-检查磁盘-i-o","children":[]},{"level":2,"title":"第五步：检查网络连接状态","slug":"第五步-检查网络连接状态","link":"#第五步-检查网络连接状态","children":[]},{"level":2,"title":"建议的排查顺序","slug":"建议的排查顺序","link":"#建议的排查顺序","children":[]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"createdTime":1772137674000,"updatedTime":1772137674000,"contributors":[{"name":"JAHNAN00","email":"892961012@qq.com","commits":1}]},"filePathRelative":"blogs/linux_服务器性能排查入门.md"}');export{c as comp,o as data};
