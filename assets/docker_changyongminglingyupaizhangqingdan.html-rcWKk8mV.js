import{_ as a,c as n,b as e,o as i}from"./app-De2rYL1X.js";const l={};function t(r,s){return i(),n("div",null,[...s[0]||(s[0]=[e(`<p>这篇用于整理 Docker 日常高频命令和常见排障步骤，方便遇到问题时快速定位。</p><h2 id="常用命令速查" tabindex="-1"><a class="header-anchor" href="#常用命令速查"><span>常用命令速查</span></a></h2><p>查看容器：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token function">ps</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>查看镜像：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> images</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看日志：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> logs <span class="token parameter variable">-f</span> <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>进入容器：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span> /bin/sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>停止与删除：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> stop <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="典型问题1-容器反复重启" tabindex="-1"><a class="header-anchor" href="#典型问题1-容器反复重启"><span>典型问题1：容器反复重启</span></a></h2><p>先看状态和退出码：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span></span>
<span class="line"><span class="token function">docker</span> inspect <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span> <span class="token parameter variable">--format</span> <span class="token string">&#39;{{.State.ExitCode}}&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>再看日志：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> logs <span class="token parameter variable">--tail</span><span class="token operator">=</span><span class="token number">200</span> <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>常见原因：</p><ul><li>启动命令写错</li><li>配置文件缺失</li><li>环境变量未传入</li><li>依赖服务未就绪</li></ul><h2 id="典型问题2-端口映射后无法访问" tabindex="-1"><a class="header-anchor" href="#典型问题2-端口映射后无法访问"><span>典型问题2：端口映射后无法访问</span></a></h2><p>先确认容器端口是否监听：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span> <span class="token function">sh</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;netstat -tlnp || ss -tlnp&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>再确认映射是否正确：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> port <span class="token operator">&lt;</span>container_name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>检查宿主机防火墙和安全组后，再从外部访问。</p><h2 id="典型问题3-磁盘被-docker-吃满" tabindex="-1"><a class="header-anchor" href="#典型问题3-磁盘被-docker-吃满"><span>典型问题3：磁盘被 Docker 吃满</span></a></h2><p>查看占用：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> system <span class="token function">df</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>清理无用资源：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> container prune</span>
<span class="line"><span class="token function">docker</span> image prune</span>
<span class="line"><span class="token function">docker</span> volume prune</span>
<span class="line"><span class="token function">docker</span> system prune <span class="token parameter variable">-a</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：清理命令有删除风险，生产环境先确认再执行。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>排障建议遵循固定顺序：先看状态，再看日志，然后逐项验证网络、配置、依赖。流程稳定后，处理速度会明显提升。</p>`,33)])])}const c=a(l,[["render",t]]),o=JSON.parse('{"path":"/blogs/docker_changyongminglingyupaizhangqingdan.html","title":"Docker常用命令与排障清单","lang":"zh-CN","frontmatter":{"title":"Docker常用命令与排障清单","date":"2026/02/27","tags":["Docker","运维","容器"],"categories":["实用工具"]},"headers":[{"level":2,"title":"常用命令速查","slug":"常用命令速查","link":"#常用命令速查","children":[]},{"level":2,"title":"典型问题1：容器反复重启","slug":"典型问题1-容器反复重启","link":"#典型问题1-容器反复重启","children":[]},{"level":2,"title":"典型问题2：端口映射后无法访问","slug":"典型问题2-端口映射后无法访问","link":"#典型问题2-端口映射后无法访问","children":[]},{"level":2,"title":"典型问题3：磁盘被 Docker 吃满","slug":"典型问题3-磁盘被-docker-吃满","link":"#典型问题3-磁盘被-docker-吃满","children":[]},{"level":2,"title":"总结","slug":"总结","link":"#总结","children":[]}],"git":{"createdTime":1772137674000,"updatedTime":1772137674000,"contributors":[{"name":"JAHNAN00","email":"892961012@qq.com","commits":1}]},"filePathRelative":"blogs/docker_常用命令与排障清单.md"}');export{c as comp,o as data};
